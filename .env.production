# MirrorX Production Environment Configuration
# ============================================================================
#
# Copy this file to .env and fill in your values:
#   cp .env.production .env
#
# IMPORTANT: Never commit .env to version control!
#
# ============================================================================

# ==========================================================================
# General Configuration
# ==========================================================================
NODE_ENV=production

# ==========================================================================
# API Server
# ==========================================================================
API_PORT=3000
API_HOST=0.0.0.0

# ==========================================================================
# Database Configuration
# ==========================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=mirrorx
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=mirrorx
DATABASE_URL=postgresql://mirrorx:your_secure_password_here@postgres:5432/mirrorx

# ==========================================================================
# Redis Configuration
# ==========================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# ==========================================================================
# IDM-VTON Service Configuration
# ==========================================================================
IDM_VTON_PORT=8080
IDM_VTON_SERVICE_URL=http://idm-vton:8080
IDM_VTON_TIMEOUT=120000

# IDM-VTON Model Settings
IDM_VTON_MODEL_ID=yisol/IDM-VTON
SDXL_BASE_MODEL=stabilityai/stable-diffusion-xl-base-1.0
INFERENCE_STEPS=30
GUIDANCE_SCALE=2.5
MAX_IMAGE_SIZE=1024
ENABLE_XFORMERS=true
ENABLE_VAE_SLICING=true
PRESERVE_FACE_DEFAULT=true

# Fallback to Hugging Face Space when GPU unavailable
ENABLE_GRADIO_FALLBACK=true
HF_SPACE_ENDPOINT=yisol/IDM-VTON

# ==========================================================================
# LTX-2 Video Generation Service
# ==========================================================================
LTX2_PORT=5001
LTX2_SERVICE_URL=http://ltx2:5001
LTX2_TIMEOUT=300000

# LTX-2 Model Settings
BASE_MODEL=Lightricks/LTX-Video
LORA_PATH=/app/lora_weights
MAX_CONCURRENT_JOBS=2
DEFAULT_NUM_FRAMES=80
DEFAULT_INFERENCE_STEPS=40
DEFAULT_GUIDANCE_SCALE=3.0
DEFAULT_IMAGE_GUIDANCE_SCALE=1.8

# ==========================================================================
# External API Keys
# ==========================================================================
# Hugging Face (required for model downloads)
HF_TOKEN=your_huggingface_token_here

# Google AI (Gemini - fallback/alternative)
GOOGLE_AI_API_KEY=your_google_ai_api_key_here

# Replicate (alternative model provider)
REPLICATE_API_TOKEN=your_replicate_token_here

# Decart AI (alternative try-on)
DECART_API_KEY=your_decart_api_key_here

# ==========================================================================
# Security
# ==========================================================================
# JWT Secret for API authentication
JWT_SECRET=your_jwt_secret_here_min_32_chars

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================================================
# Storage Configuration
# ==========================================================================
# For production, consider using cloud storage (S3, GCS, etc.)
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760

# ==========================================================================
# Monitoring & Logging
# ==========================================================================
LOG_LEVEL=info

# Optional: Sentry for error tracking
# SENTRY_DSN=your_sentry_dsn_here

# Optional: Analytics
# MIXPANEL_TOKEN=your_mixpanel_token_here
